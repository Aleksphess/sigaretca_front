var window_size=$(window).width();if(window_size>720){$(function(){"use strict";var t=0;for($("#tv").hide();t<25;t+=1)setTimeout(function t(){var i=2e3*Math.random()+5e3,e=$("<div />",{class:"smoke",css:{left:1500*Math.random(),backgroundSize:"contain",width:1500*Math.random(),height:1500*Math.random()}});$(e).addClass("fadeOut"),$(e).addClass("blink_me"),$(e).addClass("fadeOut"),$(e).appendTo("#viewport"),$.when($(e).animate({},{duration:i/4,easing:"linear",queue:!1,complete:function(){$(e).animate({},{duration:i/3,easing:"linear",queue:!1})}}),$(e).animate({bottom:$("#viewport").height()},{duration:i,easing:"linear",queue:!1})).then(function(){$(e).remove(),t()})},3e3*Math.random())}());var context,particles=[],particleCount=25,maxVelocity=2,targetFPS=60,canvasWidth=600,canvasHeight=600,imageObj=new Image;function Particle(t){this.x=0,this.y=0,this.xVelocity=0,this.yVelocity=0,this.radius=5,this.context=t,this.draw=function(){this.image?this.context.drawImage(this.image,this.x-128,this.y-128):(this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle="rgba(225, 211, 255, 0.50)",this.context.fill(),this.context.closePath())},this.update=function(){this.x+=this.xVelocity,this.y+=this.yVelocity,this.x>=canvasWidth?(this.xVelocity=-this.xVelocity,this.x=canvasWidth):this.x<=0&&(this.xVelocity=-this.xVelocity,this.x=0),this.y>=canvasHeight?(this.yVelocity=-this.yVelocity,this.y=canvasHeight):this.y<=0&&(this.yVelocity=-this.yVelocity,this.y=0)},this.setPosition=function(t,i){this.x=t,this.y=i},this.setVelocity=function(t,i){this.xVelocity=t,this.yVelocity=i},this.setImage=function(t){this.image=t}}function generateRandom(t,i){return Math.random()*(i-t)+t}function init(){var t=document.getElementById("myCanvas");if(t.getContext){context=t.getContext("2d");for(var i=0;i<particleCount;++i){var e=new Particle(context);e.setPosition(generateRandom(0,canvasWidth),generateRandom(0,canvasHeight)),e.setVelocity(generateRandom(-maxVelocity,maxVelocity),generateRandom(-maxVelocity,maxVelocity)),particles.push(e)}}else alert("Please use a modern browser")}function draw(){context.fillStyle="rgba(0, 0, 0, 0.5)",context.fillRect(0,0,400,400),particles.forEach(function(t){t.draw()})}function update(){particles.forEach(function(t){t.update()})}imageObj.onload=function(){particles.forEach(function(t){t.setImage(imageObj)})},imageObj.src="http://www.blog.jonnycornwell.com/wp-content/uploads/2012/07/Smoke10.png",init(),context&&setInterval(function(){update(),draw()},1e3/targetFPS)}